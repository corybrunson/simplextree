<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Provides tools for representing general Simplicial Complexes • simplextree</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Provides tools for representing general Simplicial Complexes">
<meta property="og:description" content="Provides an efficient data structure for storing and operating on simplicial complexes.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">simplextree</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.7.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/simplextree.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="contents col-md-9">
<div id="simplextree" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#simplextree" class="anchor"></a>simplextree</h1></div>
<p><code>simplextree</code> is an <a href="https://www.r-project.org/">R</a> package aimed at simplifying computation for general <a href="https://en.wikipedia.org/wiki/Simplicial_complex">simplicial complexes</a>. This package facilitates this aim by providing an R-bindings to a <em>Simplex Tree</em> data structure, implemented using <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2013/n3690.pdf">C++11</a> and exported as a <a href="https://cran.r-project.org/web/packages/Rcpp/vignettes/Rcpp-modules.pdf">Rcpp module</a>.</p>
<p>The Simplex Tree was originally introduced in the following paper:</p>
<blockquote>
<p>Boissonnat, Jean-Daniel, and Clément Maria. “The simplex tree: An efficient data structure for general simplicial complexes.” Algorithmica 70.3 (2014): 406-427.</p>
</blockquote>
<p>A <em>Simplex Tree</em> is an ordered, <a href="https://en.wikipedia.org/wiki/Trie">trie</a>-like structure. Here’s a picture of a simplicial complex (left) and its corresponding <em>Simplex Tree</em> (right):</p>
<p><embed src="man/figures/simplextree.pdf"></embed></p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>The current development version can be installed with the <a href="https://github.com/r-lib/devtools">devtools</a> package:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">require</a></span>(<span class="st">"devtools"</span>)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">devtools<span class="op">::</span><span class="kw">install_gitub</span>(<span class="st">"peekxc/simplextree"</span>)</a></code></pre></div>
<p>A stable CRAN release is planned for the future.</p>
</div>
<div id="getting-started" class="section level2">
<h2 class="hasAnchor">
<a href="#getting-started" class="anchor"></a>Getting Started</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(simplextree)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">st &lt;-<span class="st"> </span><span class="kw"><a href="reference/simplex_tree.html">simplex_tree</a></span>()</a>
<a class="sourceLine" id="cb2-3" data-line-number="3">st<span class="op">$</span><span class="kw"><a href="reference/insert_simplex.html">insert_simplex</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>))</a>
<a class="sourceLine" id="cb2-4" data-line-number="4">st<span class="op">$</span><span class="kw">print_tree</span>()</a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co"># 1 (h = 2): .( 2 3 )..( 3 )</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co"># 2 (h = 1): .( 3 )</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="co"># 3 (h = 0): </span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"></a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="co">## Print the set of simplices making up the star of the simplex '2'</span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10">st<span class="op">$</span><span class="kw"><a href="reference/traverse.simplex_tree.html">traverse</a></span>(<span class="dv">2</span>, <span class="cf">function</span>(simplex){ <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/print">print</a></span>(simplex) }, <span class="st">"star"</span>)</a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="co"># [1] 1 2# [1] 1 2 3# [1] 2# [1] 2 3</span></a></code></pre></div>
</div>
<div id="api-reference" class="section level2">
<h2 class="hasAnchor">
<a href="#api-reference" class="anchor"></a>API Reference</h2>
<p>Below is the API reference for the R-bindings of the <em>SimplexTree</em> class. A <em>SimplexTree</em> object can also be passed, manipulated, and modified via C++ in another R package as well. See <a href="#Usage%20with%20Rcpp">Usage with Rcpp</a>.</p>
<div id="simplextree-1" class="section level3">
<h3 class="hasAnchor">
<a href="#simplextree-1" class="anchor"></a>SimplexTree</h3>
<p><a href="#simplex_tree">#</a> <strong>simplex_tree</strong>()</p>
<p>Trivial wrapper for constructing a <em>SimplexTree</em> instance. See below.</p>
<p><a href="#SimplexTree">#</a> <strong>SimplexTree</strong> (<em>C++ Class</em>)</p>
<p>Exposed binding for an internal <em>SimplexTree</em> C++ class. The binding is exposed as an <a href="">Rcpp Module</a>. Instantiation returns an object of type <em>Rcpp_SimplexTree</em>. Instantiate with either the above wrapper or <code>new(SimplexTree)</code>.</p>
<p><a href="#n_simplexes">#</a> <em>SimplexTree</em> $ <strong>n_simplices</strong></p>
<p>An integer vector, where each index <em>k</em> denotes the number of (<em>k-1</em>)-simplices. Read-only.</p>
<p><a href="#max_depth">#</a> <em>SimplexTree</em> $ <strong>dimension</strong></p>
<p>The dimension of a simplicial complex <em>K</em> is the highest dimension of any of <em>K</em>’s simplices. Equivalently, this is the maximum depth of any subtree in the <em>SimplexTree</em>, where the <em>depth</em> of a <em>k</em>-simplex is <em>k+1</em>. The root node has depth 0.</p>
<div id="modifying-the-tree" class="section level4">
<h4 class="hasAnchor">
<a href="#modifying-the-tree" class="anchor"></a>Modifying the tree</h4>
<p><a href="#insert_simplex">#</a> <em>SimplexTree</em> $ <strong>insert_simplex</strong>([<em>simplex</em>])</p>
<p>Inserts the specified <em>simplex</em> into the simplex tree, if it doesn’t already exist. The <em>simplex</em> is ordered prior to insertion. If the <em>simplex</em> already exists, the tree is not modified.</p>
<p>Any proper faces of <em>simplex</em> not in the tree already are also inserted.</p>
<p>Note that the <em>SimplexTree</em> does not track orientation, e.g. the simplices <em>(1, 2, 3)</em> and <em>(2, 1, 3)</em> are considered identical.</p>
<p><a href="#insert_simplex">#</a> <em>SimplexTree</em> $ <strong>insert_simplices</strong>([<em>simplices</em>]))</p>
<p><a href="#insert_simplex">Inserts</a> every simplex in the list <em>simplices</em> into the simplex tree.</p>
<p><a href="#remove_simplex">#</a> <em>SimplexTree</em> $ <strong>remove_simplex</strong>([<em>simplex</em>])</p>
<p>Removes the specified <em>simplex</em> from the simplex tree, if it exists. If the <em>simplex</em> doesn’t exist, the tree is not modified.</p>
<p>Removing a simplex will also remove all its cofaces as well.</p>
<p><a href="#contract">#</a> <em>SimplexTree</em> $ <strong>contract</strong>([<em>a, b</em>])</p>
<p>Performs and <em>edge contraction</em>, contracting vertex <em>b</em> to vertex <em>a</em>. This is equivalent to removing vertex <em>b</em> from the simplex tree and augmenting the link of vertex <em>a</em> with the link of vertex <em>b</em>. If the edge does not exist in the tree, the tree is not modified.</p>
<p><a href="#collapse">#</a> <em>SimplexTree</em> $ <strong>collapse</strong>(…)</p>
<ol>
<li>([<em>tau</em>], [<em>sigma</em>])</li>
<li>(<em>u</em>, <em>v</em>, <em>w</em>)</li>
</ol>
<p>Performs an <em>elementary collapse</em>. There are multiple simplifying operations that have been referred to as elementary collapses; this method provides two such operations.</p>
<p>(1) elementary collapse ( from <a href="#simplex-tree-paper">1</a> )</p>
<p>Collapses <em>tau</em> through its coface <em>sigma</em> if <em>sigma</em> is the only coface of <em>tau</em>.</p>
<p>(2) vertex collapse ( from <a href="#simplex-tree-paper">2</a>)</p>
<p>Collapses a free pair (<em>u</em>, <em>v</em>) -&gt; (<em>w</em>), mapping a pair of vertices to a single vertex.</p>
<p>Technically, if you want to do an <em>elementary</em> collapse, it’s required that either <em>u</em> = <em>w</em>, such that (<em>u</em>, <em>v</em>) -&gt; (<em>u</em>), or <em>v</em> = <em>w</em>, such that (<em>u</em>, <em>v</em>) -&gt; (<em>v</em>). However, if (<em>u</em>, <em>v</em>) -&gt; (<em>w</em>) is specified, where <em>u</em> != <em>w</em> and <em>v</em> != <em>w</em> , the collapse is decomposed into two elementary collapses: (<em>u</em>, <em>w</em>) -&gt; (<em>w</em>) and (<em>v</em>, <em>w</em>) -&gt; (<em>w</em>).</p>
<p><a href="#as_XPtr">#</a> <em>SimplexTree</em> $ <strong>as_XPtr</strong>()</p>
<p>Converts the simplex tree into an <a href="https://github.com/RcppCore/Rcpp/blob/master/inst/include/Rcpp/XPtr.h">XPtr</a>, sometimes called an <em>external pointer</em>. <em>XPtr</em>’s can be passed as an <a href="https://cran.r-project.org/doc/manuals/r-release/R-ints.html#SEXPs">SEXP</a> to other C/C++ functions via R’s C API or Rcpp.</p>
<p>This method does <em>not</em> register a delete finalizer.</p>
</div>
<div id="querying-the-tree" class="section level4">
<h4 class="hasAnchor">
<a href="#querying-the-tree" class="anchor"></a>Querying the tree</h4>
<p><a href="#print_tree">#</a> <em>SimplexTree</em> $ <strong>print_tree</strong>()</p>
<p>Prints the simplicial complex to <em>standard out</em>. By default, this is set to R’s buffered output, which is shown in the R console. The printed format is:</p>
<blockquote>
<p>[<em>vertex</em>] (h = [<em>subtree height</em>]): [<em>subtree depth</em>]([<em>subtree</em>])</p>
</blockquote>
<p>Where each line corresponds to a <em>vertex</em> and its corresponding subtree. The <em>subtree depth</em> represents the set of <em>sibling</em> <em>k</em>-simplices at that level in tree. represented by a sequence of dots (‘<strong>.</strong>’).</p>
<p><a href="#find_simplex">#</a> <em>SimplexTree</em> $ <strong>find_simplex</strong>([<em>simplex</em>])</p>
<p>Traverses the simplex tree downard starting at the root by successively using each of the ordered labels in <em>simplex</em> as keys. Returns a logical indicating whether <em>simplex</em> was found. <em>simplex</em> is sorted prior to traversing.</p>
<p><a href="#degree">#</a> <em>SimplexTree</em> $ <strong>degree</strong>(<em>[vertices]</em>)</p>
<p>Returns the degree of a given vertex or set of vertices, i.e. the number of 1-simplices each vertex is a face of. Higher order simplices are not counted, for that see #cofaces.</p>
<p><a href="#adjacent_vertices">#</a> <em>SimplexTree</em> $ <strong>adjacent_vertices</strong>()</p>
<p><a href="#is_face">#</a> <em>SimplexTree</em> $ <strong>is_face</strong>(<em>[tau]</em>, <em>[sigma]</em>)</p>
<p>Returns a logical indicating whether tau is a face of sigma.</p>
<p><a href="#is_face">#</a> <em>SimplexTree</em> $ <strong>is_tree</strong>()</p>
<p>Returns a logical indicating whether the simplex tree is fully connected and acyclic.</p>
<p>Note that although the simplex tree is an ordered structure, in this implementation, simplex orientation (or direction, in the graph sense) is not maintained.</p>
</div>
<div id="traversals" class="section level4">
<h4 class="hasAnchor">
<a href="#traversals" class="anchor"></a>Traversals</h4>
<p>The <em>SimplexTree</em> data structure supports various types of <em>traversals</em>. A <em>traversal</em> is a (possibly optimized) path that allows iteration through a subset of the <em>SimplexTree</em>. The traversal <em>type</em> determines the subset and path to iterate through. <em>f</em> is called with a simplex as its first argument for each simplex in the traversal.</p>
<p><a href="#traverse">#</a> <em>SimplexTree</em> $ <strong>traverse</strong> <br></p>
<ol>
<li>(<em>f</em>, <em>type</em>)</li>
<li>([<em>simplex</em>], <em>f</em>, <em>type</em>)</li>
<li>([<em>simplex</em>], <em>f</em>, <em>type</em>, <em>params</em>)</li>
</ol>
<p>The <strong>traverse</strong> method has three overloads, based on the traversal <em>type</em> and intended usage of <em>f</em>.</p>
<p>(1) applies <em>f</em> to each simplex in the traversal path <em>type</em>, starting at the root of the tree.</p>
<p>(2) applies <em>f</em> to each simplex in the traversal path <em>type</em> , starting at the specified <em>simplex</em> in the tree. The root simplex (empty face) may be specified using the <em>NULL</em> keyword.</p>
<p>(3) applies <em>f</em> to each simplex in the traversal path <em>type</em>, starting at the specified <em>simplex</em> in the tree, and supplying the necessary parameters to the traversal <em>type</em> as a list <em>params</em>. The root simplex (empty face) may be specified using the <em>NULL</em> keyword.</p>
<p>For example, to traverse the simplicial complex in a depth-first manner:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">st &lt;-<span class="st"> </span><span class="kw"><a href="reference/simplex_tree.html">simplex_tree</a></span>()</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">st<span class="op">$</span><span class="kw"><a href="reference/insert_simplex.html">insert_simplex</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">st<span class="op">$</span><span class="kw"><a href="reference/traverse.simplex_tree.html">traverse</a></span>(message, <span class="st">"dfs"</span>) <span class="co"># equivalent to 'st$traverse(NULL, message, "dfs")'</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="co"># 1# 12# 123# 13# 2# 23# 3</span></a></code></pre></div>
<p>Or to print the cofaces of the vertex with label ‘1’:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">st<span class="op">$</span><span class="kw"><a href="reference/traverse.simplex_tree.html">traverse</a></span>(<span class="dv">1</span>, message, <span class="st">"cofaces"</span>)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="co"># 1# 12# 123# 13</span></a></code></pre></div>
<p><a href="#ltraverse">#</a> <em>SimplexTree</em> $ <strong>ltraverse</strong>(…)</p>
<p>Performs a <em>traversal</em>, returning a list of the same length as the traversal path, with each element containing the result of <em>f</em>. The parameters <em>…</em> are the same as in <a href="#traverse">traverse</a>. <strong>ltraverse</strong> is meant to used in a similar way as lapply.</p>
<div id="traversal-types" class="section level5">
<h5 class="hasAnchor">
<a href="#traversal-types" class="anchor"></a>Traversal types</h5>
<p>The <em>type</em> parameter passed to the traverse family of algorithms determines the subset and corresponding path that is enumerated in simplex tree. A traversal <em>type</em> is specified by a string, and its corresponding <em>params</em> are specified in a list. The currently supported traversal types are as follows:</p>
<p><a href="#dfs">#</a> <em>type</em> = “<strong>dfs</strong>”</p>
<p>Performs a depth-first traversal of the <em>SimplexTree</em> starting at <em>simplex</em>. If <em>simplex</em> is not supplied, the traversal starts at the root node.</p>
<p><a href="#bfs">#</a> <em>type</em> = “<strong>bfs</strong>”</p>
<p>Performs a breadth-first traversal of the <em>SimplexTree</em> starting at <em>simplex</em>. If <em>simplex</em> is not supplied, the traversal starts at the root node.</p>
<p><a href="#bfs">#</a> <em>type</em> = “<strong>cofaces</strong>” or <em>type</em> = “<strong>star</strong>”</p>
<p>Traverse all of the cofaces (the star) of <em>simplex</em> in the <em>SimplexTree</em>. If <em>simplex</em> is not supplied, the traversal starts at the root node.</p>
<p><a href="#bfs">#</a> <em>type</em> = “<strong>link</strong>”</p>
<p>Traverse all of the link of <em>simplex</em> in the <em>SimplexTree</em>. If <em>simplex</em> is not supplied, the traversal starts at the root node.</p>
<p><a href="#bfs">#</a> <em>type</em> = “<strong>skeleton</strong>”</p>
<p>Traverses all of simplices in the the <em>k-skeleton</em> of the <em>SimplexTree</em>, where the dimension <em>k</em> must be supplied via <em>params</em>. If <em>simplex</em> is not supplied, the traversal starts at the root node.</p>
<p><a href="#bfs">#</a> <em>type</em> = “<strong>maximal-skeleton</strong>”</p>
<p>Traverses all of simplices in the the <em>maximal k-skeleton</em> of the <em>SimplexTree</em>, where the dimension <em>k</em> must be supplied via <em>params</em>. If <em>simplex</em> is not supplied, the traversal starts at the root node.</p>
</div>
</div>
<div id="import-export-options" class="section level4">
<h4 class="hasAnchor">
<a href="#import-export-options" class="anchor"></a>Import / Export options</h4>
<p><a href="#serialize">#</a> <em>SimplexTree</em> $ <strong>serialize</strong>()</p>
<p><a href="#unserialize">#</a> <em>SimplexTree</em> $ <strong>deserialize</strong>()</p>
<p><a href="#save">#</a> <em>SimplexTree</em> $ <strong>save</strong>()</p>
<p><a href="#load">#</a> <em>SimplexTree</em> $ <strong>load</strong>()</p>
</div>
<div id="conversions" class="section level4">
<h4 class="hasAnchor">
<a href="#conversions" class="anchor"></a>Conversions</h4>
<p>The full simplicial complex can always be converted to a list of matrices. The 1-skeleton can also be converted to any of the standard graph representations.</p>
<p><a href="#as_list">#</a> <em>SimplexTree</em> $ <strong>as_list</strong>()</p>
<p><a href="#as_edge_list">#</a> <em>SimplexTree</em> $ <strong>as_edge_list</strong>()</p>
<p><a href="#as_adjacency_matrix">#</a> <em>SimplexTree</em> $ <strong>as_adjacency_list</strong>()</p>
<p><a href="#as_adjacency_matrix">#</a> <em>SimplexTree</em> $ <strong>as_adjacency_matrix</strong>()</p>
</div>
</div>
</div>
<div id="usage-with-rcpp" class="section level2">
<h2 class="hasAnchor">
<a href="#usage-with-rcpp" class="anchor"></a>Usage with Rcpp</h2>
<p>There are two ways to use a <em>SimplexTree</em> object with Rcpp.</p>
<div id="pure-rcpp" class="section level4">
<h4 class="hasAnchor">
<a href="#pure-rcpp" class="anchor"></a>1. Pure Rcpp</h4>
<p>If you’re developing purely in Rcpp, you can just use the <em>SimplexTree</em> class directly. The <em>SimplexTree</em> is header-only, and can be imported via the <strong>Rcpp::depends</strong> attribute (see <a href="http://dirk.eddelbuettel.com/code/rcpp/Rcpp-attributes.pdf">Rcpp Attributes</a>)</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode c"><code class="sourceCode c"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="pp">#include </span><span class="im">"Rcpp.h"</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="co">// [[Rcpp::depends(simplextree)]]</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="pp">#include </span><span class="im">"simplextree.h"</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="dt">void</span> my_function(){</a>
<a class="sourceLine" id="cb5-7" data-line-number="7">  SimplexTree st = SimplexTree();</a>
<a class="sourceLine" id="cb5-8" data-line-number="8">  ...</a>
<a class="sourceLine" id="cb5-9" data-line-number="9">}</a></code></pre></div>
<p>If you’re developing using a package, make sure to add <code>simplextree</code> to the <code>LinkingTo</code> list to ensure the header is properly included (e.g. <code>-I"&lt;...&gt;/simplextree/include"</code> should appear in the build steps).</p>
</div>
<div id="moving-between-r-and-rcpp" class="section level4">
<h4 class="hasAnchor">
<a href="#moving-between-r-and-rcpp" class="anchor"></a>2. Moving between R and Rcpp</h4>
<p>A <em>SimplexTree</em> Rcpp module can be passed directly from R to any Rcpp method. To do so, export the object as an external pointer (XPtr), pass as an SEXP, then reinterpret cast the SEXP on the C++ side.</p>
<p>For example, on the C++ side, one might do:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode c"><code class="sourceCode c"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="co">// my_source.cpp</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="pp">#include </span><span class="im">"Rcpp.h"</span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="co">// [[Rcpp::depends(simplextree)]]</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="pp">#include </span><span class="im">"simplextree.h"</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"></a>
<a class="sourceLine" id="cb6-7" data-line-number="7">[[Rcpp::export]]</a>
<a class="sourceLine" id="cb6-8" data-line-number="8"><span class="dt">void</span> modify_tree(SEXP stree){</a>
<a class="sourceLine" id="cb6-9" data-line-number="9">  Rcpp::XPtr&lt;SimplexTree&gt; stree_ptr(stree);</a>
<a class="sourceLine" id="cb6-10" data-line-number="10">  stree_ptr-&gt;print_tree();</a>
<a class="sourceLine" id="cb6-11" data-line-number="11">  ....</a>
<a class="sourceLine" id="cb6-12" data-line-number="12">}</a></code></pre></div>
<p>Then on the R-side, use <a href="#as_XPtr">as_XPtr</a> method to get an <a href="https://cran.r-project.org/doc/manuals/R-exts.html#External-pointers-and-weak-references">XPtr</a>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="co"># my_source.R</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2">stree &lt;-<span class="st"> </span>simplextree<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/simplextree/topics/simplex_tree">simplex_tree</a></span>()</a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="kw">modify_tree</span>(stree<span class="op">$</span><span class="kw"><a href="reference/as_XPtr.html">as_XPtr</a></span>())</a></code></pre></div>
<p>Note that the C++ class contains a superset of the functionality exported to R, however they do not necessarily have the same bindings. See the header file for a complete list.</p>
</div>
</div>
<div id="references" class="section level2">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<blockquote>
<p><a name="simplex-tree-paper">1.</a> Boissonnat, Jean-Daniel, and Clément Maria. “The simplex tree: An efficient data structure for general simplicial complexes.” Algorithmica 70.3 (2014): 406-427.</p>
</blockquote>
<blockquote>
<p><a name="simplicial-map-paper">2.</a> Dey, Tamal K., Fengtao Fan, and Yusu Wang. “Computing topological persistence for simplicial maps.” Proceedings of the thirtieth annual symposium on Computational geometry. ACM, 2014.</p>
</blockquote>
</div>
<div id="more" class="section level2">
<h2 class="hasAnchor">
<a href="#more" class="anchor"></a>More</h2>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="co">## see ?simplextree</span></a></code></pre></div>
<p>…TODO</p>
</div>
</div>
  </div>

  <div class="col-md-3" id="sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://opensource.org/licenses/mit-license.php">MIT</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Matt Piekenbrock <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Matt Piekenbrock.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.2.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
